<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        body{
            color: #1d9fd3;
        }
    </style>
</head>
<body>
<script>
    var xhr=new XMLHttpRequest();//创建一个XMLHttpRequest的实例
    console.log(xhr.readyState);
    //2.打开路径
    xhr.open("get","./package.json",true);//同步、异步
    console.log(xhr.readyState);
    //3.监听
    xhr.onreadystatechange=function () {//只要状况码（readyState）改变就执行一次
        //console.log(xhr.readyState);//2 3 4
        if (xhr.readyState===4&&xhr.status===200){
            data=xhr.responseText
        }
        console.log(xhr.status);//请求状态码
        //200 成功
        //301 永久重定向
        //302  临时转移，临时重定向；一般用于服务器的负载均衡
        //304  读取缓存
        //307  临时重定向
        //400  请求参数错误
        //401  没有权限
        //404  地址不存在
        //500  未知的错误；服务端出错
        //503  超负荷，请求太多；

        //服务器返给客户端两种方式：响应头  响应主体；
        //content-type：属性值是服务器告诉客户端文件的类型
        //console.log(xhr.getResponseHeader("content-type"));
        // xhr.readyState:0 1 2 3 4
        //0:创建一个ajax实例，没有发送请求；xhr.readyState默认值0
        //1：open路径已打开，xhr.readyState就马上变成1
        //2：客户端已经获取响应头信息
        //3：服务器的响应主体正在返回客户端
        //4：客户端已经成功接收到响应主体
    };
    xhr.timeout=function () {
        //timeout：请求超时；网速慢或文件特别大
    }
    //4.发送请求
    xhr.send(null);
</script>
</body>
</html>